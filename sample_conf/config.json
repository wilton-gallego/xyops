{
	"base_app_url": "http://localhost:5522",
	"email_from": "admin@localhost",
	"smtp_hostname": "localhost",
	"smtp_port": 25,
	"secret_key": "CHANGE_ME",
	
	"log_dir": "logs",
	"log_filename": "[component].log",
	"log_columns": ["hires_epoch", "date", "hostname", "pid", "component", "category", "code", "msg", "data"],
	"log_archive_path": "logs/archives/[yyyy]/[mm]/[dd]/[filename]-[yyyy]-[mm]-[dd].log.gz",
	"log_crashes": true,
	"pid_file": "logs/orchestra.pid",
	"debug_level": 9,
	"maintenance": "04:00",
	"list_row_max": 10000,
	
	"expiration": "5 years",
	"file_expiration": "5 years",
	
	"ttl": 300,
	
	"ping_freq_sec": 10,
	"ping_timeout_sec": 20,
	
	"job_data_expire_days": 180,
	"child_kill_timeout": 10,
	"dead_job_timeout": 120,
	"track_manual_jobs": false,
	"copy_job_logs_to": "",
	"queue_dir": "queue",
	
	"job_memory_max": 1073741824,
	"job_memory_sustain": 0,
	"job_cpu_max": 0,
	"job_cpu_sustain": 0,
	"job_log_max_size": 0,
	"job_env": {},
	
	"job_universal_actions": [
		{
			"enabled": true,
			"trigger": "error",
			"type": "snapshot"
		}
	],
	
	"new_server_stale_threshold": 3600,
	"hostname_display_strip": "\\.[\\w\\-]+\\.\\w+$",
	"tick_precision_ms": 50,
	
	"hooks": {
		"job_complete": { "shell_exec": "date" }
	},
	
	"hook_text_templates": {
		"job_start": "Orchestra Job started on [server/hostname]: [event/title]: [links/job_details]",
		"job_success": "Orchestra Job completed successfully on [server/hostname]: [event/title]: [links/job_details]",
		"job_error": "Orchestra Job failed on [server/hostname]: [event/title]: Error [job/code]: [job/description]: [links/job_details]"
	},
	
	"multi": {
		"protocol": "ws:",
		"connect_timeout_sec": 3,
		"master_timeout_sec": 60,
		"socket_opts": {
			"rejectUnauthorized": false
		}
	},
	
	"quick_monitors": [
		{ "id": "_qm_cpu_load", "title": "CPU Load Average", "source": "cpu.avgLoad", "type": "float", "suffix": "", "minVertScale": 0.1 },
		{ "id": "_qm_cpu_usage", "title": "CPU Usage %", "source": "cpu.currentLoad", "type": "float", "suffix": "%" },
		
		{ "id": "_qm_mem_used", "title": "Memory in Use", "source": "mem.used", "type": "bytes", "suffix": "" },
		{ "id": "_qm_mem_avail", "title": "Memory Available", "source": "mem.available", "type": "bytes", "suffix": "" },
		
		{ "id": "_qm_disk_read_sec", "title": "Disk Read (Bytes)", "source": "fs.rx_sec", "type": "bytes", "suffix": "/sec" },
		{ "id": "_qm_disk_write_sec", "title": "Disk Write (Bytes)", "source": "fs.wx_sec", "type": "bytes", "suffix": "/sec" },
		
		{ "id": "_qm_net_in_sec", "title": "Network In (Bytes)", "source": "net.rx_sec", "type": "bytes", "suffix": "/sec" },
		{ "id": "_qm_net_out_sec", "title": "Network Out (Bytes)", "source": "net.tx_sec", "type": "bytes", "suffix": "/sec" }
	],
	
	"default_user": {
		"language": "",
		"region": "",
		"num_format": "",
		"hour_cycle": "h12",
		"timezone": ""
	},
	
	"client": {
		"name": "Orchestra",
		"debug": 1,
		
		"privilege_list": [
			{ "id": "admin", "title": "Administrator", "icon": "lock-outline" },
			
			{ "id": "create_events", "title": "Create Events", "icon": "calendar-clock" },
			{ "id": "edit_events", "title": "Edit Events", "icon": "calendar-clock" },
			{ "id": "delete_events", "title": "Delete Events", "icon": "calendar-clock" },
			
			{ "id": "run_jobs", "title": "Run Jobs", "icon": "timer-outline" },
			{ "id": "abort_jobs", "title": "Abort Jobs", "icon": "timer-outline" },
			{ "id": "delete_jobs", "title": "Delete Jobs", "icon": "timer-outline" },
			
			{ "id": "create_groups", "title": "Create Groups", "icon": "server-network" },
			{ "id": "edit_groups", "title": "Edit Groups", "icon": "server-network" },
			{ "id": "delete_groups", "title": "Delete Groups", "icon": "server-network" },
			
			{ "id": "create_categories", "title": "Create Categories", "icon": "folder-open-outline" },
			{ "id": "edit_categories", "title": "Edit Categories", "icon": "folder-open-outline" },
			{ "id": "delete_categories", "title": "Delete Categories", "icon": "folder-open-outline" },
			
			{ "id": "create_alerts", "title": "Create Alerts", "icon": "bell-outline" },
			{ "id": "edit_alerts", "title": "Edit Alerts", "icon": "bell-outline" },
			{ "id": "delete_alerts", "title": "Delete Alerts", "icon": "bell-outline" },
			
			{ "id": "create_channels", "title": "Create Channels", "icon": "bullhorn-outline" },
			{ "id": "edit_channels", "title": "Edit Channels", "icon": "bullhorn-outline" },
			{ "id": "delete_channels", "title": "Delete Channels", "icon": "bullhorn-outline" },
			
			{ "id": "create_commands", "title": "Create Commands", "icon": "console" },
			{ "id": "edit_commands", "title": "Edit Commands", "icon": "console" },
			{ "id": "delete_commands", "title": "Delete Commands", "icon": "console" },
			
			{ "id": "create_monitors", "title": "Create Monitors", "icon": "chart-areaspline" },
			{ "id": "edit_monitors", "title": "Edit Monitors", "icon": "chart-areaspline" },
			{ "id": "delete_monitors", "title": "Delete Monitors", "icon": "chart-areaspline" },
			
			{ "id": "create_plugins", "title": "Create Plugins", "icon": "power-plug-outline" },
			{ "id": "edit_plugins", "title": "Edit Plugins", "icon": "power-plug-outline" },
			{ "id": "delete_plugins", "title": "Delete Plugins", "icon": "power-plug-outline" },
			
			{ "id": "create_tags", "title": "Create Tags", "icon": "tag-outline" },
			{ "id": "edit_tags", "title": "Edit Tags", "icon": "tag-outline" },
			{ "id": "delete_tags", "title": "Delete Tags", "icon": "tag-outline" },
			
			{ "id": "create_web_hooks", "title": "Create Web Hooks", "icon": "webhook" },
			{ "id": "edit_web_hooks", "title": "Edit Web Hooks", "icon": "webhook" },
			{ "id": "delete_web_hooks", "title": "Delete Web Hooks", "icon": "webhook" },
			
			{ "id": "create_snapshots", "title": "Create Snapshots", "icon": "camera-outline" }
		],
		
		"items_per_page": 50,
		"alt_items_per_page": 25,
		"events_per_page": 500,
		
		"new_event_template": { 
			"id": "",
			"title": "",
			"enabled": true,
			"targets": [],
			"params": {},
			"timings": [
				{
					"enabled": true,
					"type": "schedule",
					"minutes": [0]
				}
			],
			"limits": [
				{
					"type": "job",
					"enabled": true,
					"amount": 1
				},
				{
					"type": "queue",
					"enabled": true,
					"amount": 0
				},
				{
					"type": "retry",
					"enabled": true,
					"amount": 0,
					"duration": 0
				}
			],
			"actions": [],
			"notes": ""
		},
		
		"extra_server_info": {
			"title": "Kernel Version",
			"source": "[os/platform] [os/kernel]"
		},
		"first_year": 2020,
		"max_legend_size": 16,
		
		"chart_defaults": {
			"lineWidth": 2,
			"lineJoin": "round",
			"lineCap": "butt",
			"stroke": true,
			"fill": 0.5,
			"horizTicks": 6,
			"vertTicks": 6,
			"smoothingMaxSamples": 100
		}
	},
	
	"Storage": {
		"engine": "Filesystem",
		"list_page_size": 100,
		"hash_page_size": 100,
		"concurrency": 32,
		"transactions": true,
		"network_transactions": false,
		"trans_auto_recover": true,
		"log_event_types": { "get": 1, "put": 1, "head": 1, "delete": 1, "expire_set": 1, "perf_min": 1, "commit":1, "index":1, "unindex":1, "search":1, "sort":1, "maint": 1 },
		
		"Filesystem": {
			"base_dir": "data",
			"key_namespaces": 1,
			"raw_file_paths": 1,
			"no_fsync": 1,
			
			"cache": {
				"enabled": true,
				"maxItems": 100000,
				"maxBytes": 104857600
			}
		}
	},
	
	"WebServer": {
		"http_port": 5522,
		"http_htdocs_dir": "htdocs",
		"http_max_upload_size": 1073741824,
		"http_static_ttl": 31536000,
		"http_static_index": "index.html",
		"http_server_signature": "Orchestra v1.0",
		"http_compress_text": true,
		"http_enable_brotli": true,
		"http_timeout": 30,
		"http_regex_json": "(text|javascript|js|json)",
		"http_clean_headers": true,
		"http_log_socket_errors": true,
		"http_response_headers": {
			"Access-Control-Allow-Origin": "*"
		},
		"http_max_connections": 2048,
		"http_max_concurrent_requests": 32,
		"http_log_requests": true,
		"http_legacy_callback_support": false,
		
		"https": true,
		"https_port": 5523,
		"https_cert_file": "conf/ssl.crt",
		"https_key_file": "conf/ssl.key",
		"https_force": false,
		"https_timeout": 30,
		"https_header_detect": {
			"Front-End-Https": "^on$",
			"X-Url-Scheme": "^https$",
			"X-Forwarded-Protocol": "^https$",
			"X-Forwarded-Proto": "^https$",
			"X-Forwarded-Ssl": "^on$"
		}
	},
	
	"User": {
		"session_expire_days": 365,
		"max_failed_logins_per_hour": 5,
		"max_forgot_passwords_per_hour": 3,
		"free_accounts": false,
		"sort_global_users": false,
		"use_bcrypt": true,
		"valid_username_match": "^[\\w\\-\\.]+$",
		
		"email_templates": {
			"welcome_new_user": "conf/emails/welcome_new_user.txt",
			"changed_password": "conf/emails/changed_password.txt",
			"recover_password": "conf/emails/recover_password.txt",
			"verify_email": "conf/emails/verify_email.txt",
			"logout_all_sessions": "conf/emails/logout_all_sessions.txt"
		},
		
		"default_privileges": {
			"create_events": 1,
			"edit_events": 1,
			"run_jobs": 1
		}
	},
	
	"Unbase": {
		"indexes": {
			
			"jobs": {
				"default_search_field": "code",
				"fields": [
					{
						"id": "code",
						"source": "/code",
						"master_list": true
					},
					{
						"id": "date",
						"source": "/completed",
						"type": "number",
						"divide": 3600
					},
					{
						"id": "source",
						"source": "/source"
					},
					{
						"id": "tags",
						"source": "/tags"
					},
					{
						"id": "event",
						"source": "/event"
					},
					{
						"id": "category",
						"source": "/category"
					},
					{
						"id": "plugin",
						"source": "/plugin"
					},
					{
						"id": "server",
						"source": "/server"
					},
					{
						"id": "workflow",
						"source": "/workflow"
					}
				],
				"sorters": [
					{
						"id": "completed",
						"source": "/completed",
						"type": "number"
					}
				]
			},
			
			"alerts": {
				"default_search_field": "",
				"fields": [
					{
						"id": "active",
						"source": "/active"
					},
					{
						"id": "alert",
						"source": "/alert"
					},
					{
						"id": "groups",
						"source": "/groups"
					},
					{
						"id": "server",
						"source": "/server"
					},
					{
						"id": "start",
						"source": "/date",
						"type": "number",
						"divide": 3600
					},
					{
						"id": "end",
						"source": "/modified",
						"type": "number",
						"divide": 3600
					},
					{
						"id": "jobs",
						"source": "/jobs"
					}
				]
			},
			
			"snapshots": {
				"default_search_field": "",
				"fields": [
					{
						"id": "source",
						"source": "/source"
					},
					{
						"id": "server",
						"source": "/server"
					},
					{
						"id": "groups",
						"source": "/groups"
					},
					{
						"id": "date",
						"source": "/date",
						"type": "number",
						"divide": 3600
					},
					{
						"id": "alerts",
						"source": "/alerts"
					},
					{
						"id": "jobs",
						"source": "/jobs"
					}
				]
			},
			
			"servers": {
				"default_search_field": "keywords",
				"fields": [
					{
						"id": "groups",
						"source": "/groups",
						"master_list": true
					},
					{
						"id": "created",
						"source": "/created",
						"type": "number",
						"divide": 3600
					},
					{
						"id": "modified",
						"source": "/modified",
						"type": "number",
						"divide": 3600
					},
					{
						"id": "keywords",
						"source": "/keywords",
						"min_word_length": 1,
						"max_word_length": 64,
						"use_remove_words": false,
						"use_stemmer": false
					},
					{
						"id": "os_platform",
						"source": "/info/os/platform",
						"filter": "alphanum",
						"master_list": true,
						"master_labels": true
					},
					{
						"id": "os_distro",
						"source": "/info/os/distro",
						"filter": "alphanum",
						"master_list": true,
						"master_labels": true
					},
					{
						"id": "os_release",
						"source": "/info/os/release",
						"filter": "alphanum",
						"master_list": true,
						"master_labels": true
					},
					{
						"id": "os_arch",
						"source": "/info/os/arch",
						"filter": "alphanum",
						"master_list": true,
						"master_labels": true
					},
					{
						"id": "cpu_virt",
						"source": "/info/virt/vendor",
						"filter": "alphanum",
						"master_list": true,
						"master_labels": true
					},
					{
						"id": "cpu_brand",
						"source": "/info/cpu/combo",
						"filter": "alphanum",
						"master_list": true,
						"master_labels": true
					},
					{
						"id": "cpu_cores",
						"source": "/info/cpu/cores",
						"filter": "alphanum",
						"master_list": true,
						"master_labels": true
					}
				],
				"sorters": [
					{
						"id": "hostname",
						"source": "/hostname",
						"type": "string"
					},
					{
						"id": "ip",
						"source": "/ip",
						"type": "string"
					},
					{
						"id": "date",
						"source": "/date",
						"type": "number"
					}
				]
			}
			
		}
	}
	
}
